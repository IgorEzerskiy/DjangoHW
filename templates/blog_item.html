{% extends 'index.html' %}

{% block content %}
<main style="margin: auto;
  width: 100%;">
    <div style="margin: auto; width: 75%; padding: 10px;">
        <div class="card mb-3">
            <img style="width:500px; height: 300px"
                 src="https://i.discogs.com/NHAk7rYgJrK1QueMfGzzw9pdGoyFx6fZUUW7xBYqlB4/rs:fit/g:sm/q:90/h:315/w:306/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9BLTc5Mzg3/NC0xMTc2OTA3MTAy/LmpwZWc.jpeg"
                 class="card-img-top" alt="Post">
            <div class="card-body">
                <h5 class="card-title">{{ data.title }}</h5>
                <p class="card-text">{{ data.text }}</p>
                <footer class="blockquote-footer"><cite title="Source Title">{{ data.author.username }}</cite>
                    <p class="card-text"><small class="text-body-secondary">Create at: {{ data.created_at }}</small></p>
                </footer>
            </div>
        </div>
        <form method="POST">
            {% csrf_token %}
            <div class="mb-3">
                <label for="new_comm_text" class="form-label">New comment</label>
                <textarea  required name="comment_text" class="form-control" id="new_comm_text" rows="3" placeholder="Write your comment..."></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Add comment</button>
        </form>
        {% for item in data.comment_set.all %}
        <div class="card" style="margin-top: 10px">
            <div class="card-header">
                Comment - {{ forloop.counter }}
            </div>
            <div class="card-body">
                <blockquote class="blockquote mb-0">
                    <p>{{ item.content }}</p>
                    <footer class="blockquote-footer"><cite title="Source Title">{{ item.author.username }}</cite>
                        <p class="card-text"><small class="text-body-secondary">Create at: {{ item.created_at }}</small>
                        </p>
                    </footer>
                </blockquote>
            </div>
        </div>
        {% endfor %}
    </div>
</main>
{% endblock %}
